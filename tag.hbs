{{!< default}}
{{!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template --}}

<main id="site-main">
  <div class="container">
    {{#tag}}
    <div class="post-list-header">
      <h1 class="post-list-header-title">{{name}}</h1>
      {{!-- <h1 class="post-list-header-description">{{description}}</h1> --}}
    </div>
    <div class="post-list infinite-scroll">
      {{#get "posts" filter="tags:[{{slug}}]+id:-{{id}}" limit="all" order="published_at asc"}}
        {{#foreach posts visibility="all"}}
        <article id="{{id}}" class="post-card post-access-{{visibility}}">
          <a href="{{url}}" class="post-card-link">
            <header class="post-card-header">
              <h3 class="post-card-title">{{title}}</h3>
            </header>

            <div class="post-card-content">
              <p>{{excerpt words="33"}}</p>
            </div>

            <footer class="post-card-footer post-meta">
              {{> "author-list"}}
              <span class="reading-time">{{t "Updated"}} <time class="post-full-meta-date" datetime="{{date updated_at format="YYYY-MM-DD"}}">{{date updated_at timeago="true"}}</time></span>
            </footer>
          </a>
        </article>
        {{/foreach}}
      {{/get}}
    </div>
    {{/tag}}
  </div>
</main>

{{#tag}}
<script>
  var navItem = document.getElementById("tag-{{id}}");
  navItem.className += 'active';
</script>
{{/tag}}
